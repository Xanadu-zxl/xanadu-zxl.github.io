<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><title>ES6 | 逆水行舟丨</title><meta name="description" content="进入博客 🔥">
    <link rel="modulepreload" href="/assets/app.38db9df0.js"><link rel="modulepreload" href="/assets/ES6.html.6853f7e1.js"><link rel="modulepreload" href="/assets/ES6.html.2f4a699b.js"><link rel="prefetch" href="/assets/index.html.e11e7896.js"><link rel="prefetch" href="/assets/Less.html.30d7800c.js"><link rel="prefetch" href="/assets/css.html.22d39078.js"><link rel="prefetch" href="/assets/cssSenior.html.7ce850fc.js"><link rel="prefetch" href="/assets/index.html.96c06973.js"><link rel="prefetch" href="/assets/Vue-router.html.42e9a27c.js"><link rel="prefetch" href="/assets/Vue.html.f290e390.js"><link rel="prefetch" href="/assets/Vue3.html.bf1a729c.js"><link rel="prefetch" href="/assets/HTML.html.6ea8110c.js"><link rel="prefetch" href="/assets/Advance.html.5d0193a6.js"><link rel="prefetch" href="/assets/Axios.html.8aae4cbc.js"><link rel="prefetch" href="/assets/DesignPatterns.html.7727f1ba.js"><link rel="prefetch" href="/assets/JavaScript.html.af2f13bf.js"><link rel="prefetch" href="/assets/Jquery.html.c5fbf4f3.js"><link rel="prefetch" href="/assets/Object.html.c46d86d5.js"><link rel="prefetch" href="/assets/index.html.d339c84b.js"><link rel="prefetch" href="/assets/RegExp.html.ef182708.js"><link rel="prefetch" href="/assets/TypeScript.html.c521707c.js"><link rel="prefetch" href="/assets/VueRouter路由.html.3d26e6ba.js"><link rel="prefetch" href="/assets/404.html.7d858b3d.js"><link rel="prefetch" href="/assets/index.html.b6a713bd.js"><link rel="prefetch" href="/assets/Less.html.df4d602e.js"><link rel="prefetch" href="/assets/css.html.2dd6903c.js"><link rel="prefetch" href="/assets/cssSenior.html.e5afb89c.js"><link rel="prefetch" href="/assets/index.html.101cc35c.js"><link rel="prefetch" href="/assets/Vue-router.html.252d8654.js"><link rel="prefetch" href="/assets/Vue.html.4d641e80.js"><link rel="prefetch" href="/assets/Vue3.html.81cae9d1.js"><link rel="prefetch" href="/assets/HTML.html.2da4bcdd.js"><link rel="prefetch" href="/assets/Advance.html.d2eacb74.js"><link rel="prefetch" href="/assets/Axios.html.443e3443.js"><link rel="prefetch" href="/assets/DesignPatterns.html.dd3d7a98.js"><link rel="prefetch" href="/assets/JavaScript.html.9fe72908.js"><link rel="prefetch" href="/assets/Jquery.html.3b6b8e40.js"><link rel="prefetch" href="/assets/Object.html.80b9b461.js"><link rel="prefetch" href="/assets/index.html.0c1bbc9d.js"><link rel="prefetch" href="/assets/RegExp.html.ce0fc241.js"><link rel="prefetch" href="/assets/TypeScript.html.abcdb63f.js"><link rel="prefetch" href="/assets/VueRouter路由.html.b1e5cdb1.js"><link rel="prefetch" href="/assets/404.html.e815a148.js"><link rel="prefetch" href="/assets/404.af207cc0.js"><link rel="prefetch" href="/assets/Layout.e85c5736.js">
    <link rel="stylesheet" href="/assets/style.acf36ec1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">逆水行舟丨</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://juejin.cn/user/3624450346452542" rel="noopener noreferrer" target="_blank" aria-label="掘金"><!--[--><!--]--> 掘金 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zxl7" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://juejin.cn/user/3624450346452542" rel="noopener noreferrer" target="_blank" aria-label="掘金"><!--[--><!--]--> 掘金 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/zxl7" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/mian/" class="sidebar-item sidebar-heading collapsible" aria-label="框架相关"><!--[--><!--]--> 框架相关 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/mian/VueRouter路由.md" class="sidebar-item" aria-label="VueRouter路由原理"><!--[--><!--]--> VueRouter路由原理 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="let和const命令" tabindex="-1"><a class="header-anchor" href="#let和const命令" aria-hidden="true">#</a> let和const命令</h2><h3 id="let" tabindex="-1"><a class="header-anchor" href="#let" aria-hidden="true">#</a> let</h3><ul><li>不存在变量的提升</li><li>let声明的变量只有在当前块级作用域内有效</li><li>let不允许在相同作用域内，重复声明同一个变量</li><li>let和const声明的变量,不能被重新声明</li><li>TDZ:暂时性死区--(使用let命令在声明变量之前，该变量都是不可用的,会报错)</li><li>不能在函数内部重复声明同一个参数，因为参数变量是默认声明的，所以不能用let或const再次声明;</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// TDZ开始</span>
  tmp <span class="token operator">=</span> <span class="token string">&#39;abc&#39;</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>

  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span> <span class="token comment">// TDZ结束</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>

  tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>暂时性死区”也意味着typeof不再是一个百分之百安全的操作。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> x<span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>

<span class="token operator">-</span> 暂时性死区”也意味着<span class="token keyword">typeof</span>不再是一个百分之百安全的操作。
<span class="token keyword">typeof</span> x<span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
<span class="token keyword">let</span> x<span class="token punctuation">;</span>

<span class="token comment">//有些“死区”比较隐蔽，不太容易发现。</span>
<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> y<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
<span class="token comment">// 上面代码中，调用bar函数之所以报错（某些实现可能不报错）</span>
<span class="token comment">// 是因为参数x默认值等于另一个参数y，而此时y还没有声明，属于“死区”。</span>
<span class="token comment">// 如果y的默认值是x，就不会报错，因为此时x已经声明了。</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2, 2]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>总之暂时性死区的本质就是，只要一进入当前作用域，所要使用的变量就已经存在了，但是不可获取，只有等到声明变量的那一行代码出现，才可以获取和使用该变量。</li></ul><h3 id="块级作用域" tabindex="-1"><a class="header-anchor" href="#块级作用域" aria-hidden="true">#</a> 块级作用域</h3><ul><li>外层代码块不受内层代码块的影响</li><li>允许块级作用域的任意嵌套,每一层都是一个单独的作用域,第四层作用域无法读取第五层作用域的内部变量</li><li>内层作用域可以定义外层作用域的同名变量</li><li>块级作用域之中，函数声明语句的行为类似于let，在块级作用域之外不可引用</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//ES5 只有全局作用域和函数作用域，没有块级作用域，这带来很多不合理的场景。</span>
<span class="token comment">//第一种场景，内层变量可能会覆盖外层变量</span>
<span class="token keyword">const</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> tmp <span class="token operator">=</span> <span class="token string">&#39;hello world&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token comment">//上面代码的原意是，if代码块的外部使用外层的tmp变量，内部使用内层的tmp变量。但是，函数f执行后，输出结果为undefined，原因在于变量提升，导致内层的tmp变量覆盖了外层的tmp变量。</span>
<span class="token comment">//第二种场景，用来计数的循环变量泄露为全局变量。</span>

<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
上面代码中，变量i只用来控制循环，但是循环结束后，它并没有消失，泄露成了全局变量。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>应该避免在块级作用域内声明函数。如果确实需要，也应该写成函数表达式，而不是函数声明语句。</li><li>ES6 的块级作用域必须有大括号，如果没有大括号，JavaScript 引擎就认为不存在块级作用域</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 第一种写法，报错</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token comment">// 第二种写法，不报错</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 函数声明也是如此，严格模式下，函数只能声明在当前作用域的顶层。</span>
<span class="token comment">// 不报错</span>
<span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 报错</span>
<span class="token string">&#39;use strict&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="const" tabindex="-1"><a class="header-anchor" href="#const" aria-hidden="true">#</a> const</h3><ul><li>const常量,不可更改(只读),声明必须赋值;</li><li>const声明的对象指针不变,但是对象本身的值可以改变;</li><li>只在块级作用域起作用</li><li>声明的常量也是不提升，同样存在暂时性死区，只能在声明的位置后面使用。</li><li>不可重复声明同一个变量 本质:</li><li>const-实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址数据不变(指向对象,数组,函数,对象本身可以修改)</li><li>object.freeze()冻结对象,让他完全不能修改 ES6之前声明方法:</li><li>不可改:<code>Object.defineProperty(sct,&#39;BASE_NAME&#39;,{value:&#39;小明&#39;,writable false})</code>---&gt;1参数选择对象,2属性名,3描述;</li><li>不可拓展:<code>Object.seal()</code></li></ul><h2 id="解构赋值" tabindex="-1"><a class="header-anchor" href="#解构赋值" aria-hidden="true">#</a> 解构赋值</h2><ul><li>从数组和对象中提取值，对变量进行赋值，这被称为解构;</li></ul><h3 id="数组的解构赋值" tabindex="-1"><a class="header-anchor" href="#数组的解构赋值" aria-hidden="true">#</a> 数组的解构赋值</h3><ul><li><code>const arr = [1, 2, 3];</code></li><li><code>let [a, b, c] = arr;</code></li><li>写法属于“模式匹配”，只要等号两边的模式相同，左边的变量就会被赋予对应的值</li><li>结构赋值可以嵌套的</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>bar<span class="token punctuation">]</span><span class="token punctuation">,</span> baz<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
foo <span class="token comment">// 1</span>
bar <span class="token comment">// 2</span>
baz <span class="token comment">// 3;</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x <span class="token comment">// 1</span>
y <span class="token comment">// 3;</span>

如果解构不成功，变量的值就等于<span class="token keyword">undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>不完全解构, 赋值不成功，变量的值为undefined</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：a的值为1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：b的值为2</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：c的值为undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="扩展运算符" tabindex="-1"><a class="header-anchor" href="#扩展运算符" aria-hidden="true">#</a> 扩展运算符</h4><ul><li>...可以将多个数组合并为一个<code>const arr4 =[...arr1,...arr2,...arr3]</code></li><li><code>...C表示</code>剩下的作为数组传给C,且扩展运算符必须放最后</li><li>如果没有值,则<code>Z</code>为空数组</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a <span class="token comment">// 1</span>
c <span class="token comment">// [2, 3, 4]</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">...</span>z<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
x <span class="token comment">// &quot;a&quot;</span>
y <span class="token comment">// undefined</span>
z <span class="token comment">// []</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="默认值" tabindex="-1"><a class="header-anchor" href="#默认值" aria-hidden="true">#</a> 默认值</h3><ul><li>允许设定默认值<code>const [a,b,c=3] = [1,2]</code></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>foo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
foo <span class="token comment">// true</span>

<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// x=&#39;a&#39;, y=&#39;b&#39;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// x=&#39;a&#39;, y=&#39;b&#39;</span>
<span class="token comment">// 注意，ES6 内部使用严格相等运算符（===），判断一个位置是否有值。</span>
<span class="token comment">// 只有当一个数组成员严格等于undefined，默认值才会生效。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>只有值为undefined,才会有默认值,如果一个数组成员是null，默认值就不会生效</li><li>默认值是一个表达式，那么这个表达式是惰性求值的，即只有在用到的时候，才会求值</li><li>默认值可以引用解构赋值的其他变量，但该变量必须已经声明。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">// x=1; y=1</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// x=2; y=2</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// x=1; y=2</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>x <span class="token operator">=</span> y<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">// ReferenceError: y is not defined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="对象的解构赋值" tabindex="-1"><a class="header-anchor" href="#对象的解构赋值" aria-hidden="true">#</a> 对象的解构赋值</h3><ul><li>数组的元素是按次序排列的，变量的取值由它的位置决定；</li><li>而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。</li><li>如果变量找不到与其名字相同的属性，就会赋值不成功，如下面的例子：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;b&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//a的值为undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对象解构赋值也可以嵌套</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;a&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string-property property">&quot;bb&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：b的值为1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>可以指定默认值</li><li>默认值生效的条件是，对象的属性值严格等于undefined</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> <span class="token punctuation">{</span>a<span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;a&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：b的值为默认值2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> foo<span class="token punctuation">,</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token string">&#39;bbb&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>解构也可以用于嵌套结构的对象</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;Hello&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token string">&#39;World&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> <span class="token punctuation">{</span> y <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span>
x <span class="token comment">// &quot;Hello&quot;</span>
y <span class="token comment">// &quot;World&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>结合扩展运算符</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj1 <span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token literal-property property">sdas</span> <span class="token operator">:</span><span class="token string">&#39;雷神&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">sdass</span><span class="token operator">:</span><span class="token string">&#39;占山&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj<span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">adasdas</span><span class="token operator">:</span><span class="token string">&#39;库&#39;</span><span class="token punctuation">,</span>
	<span class="token operator">...</span>obj
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如何对已经声明的对象解构赋值</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>
<span class="token keyword">let</span> sdas<span class="token punctuation">;</span>
<span class="token keyword">const</span> obj1 <span class="token operator">=</span><span class="token punctuation">{</span>
	<span class="token literal-property property">sdas</span> <span class="token operator">:</span><span class="token string">&#39;雷神&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">sdass</span><span class="token operator">:</span><span class="token string">&#39;占山&#39;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span>sdas<span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">)</span>
<span class="token comment">//let {sdas} = obj;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对象的默认值</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">,</span> hobby <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;学习&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">=</span> girlfriend<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>使用对象传入乱序的函数参数</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">AJAX</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	url<span class="token punctuation">,</span>
	data<span class="token punctuation">,</span>
	type <span class="token operator">=</span> <span class="token string">&#39;get&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token constant">AJAX</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;/sdsd&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>获取多个 函数的返回值</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token parameter">uid</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token comment">//ajax</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">status</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">data</span><span class="token operator">:</span><span class="token punctuation">{</span>
			<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;xiaozhang&#39;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">msg</span><span class="token operator">:</span><span class="token string">&#39;ok!&#39;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span>status<span class="token punctuation">,</span>data<span class="token punctuation">,</span><span class="token literal-property property">msg</span><span class="token operator">:</span>message<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getUserInfo</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="字符串的解构赋值" tabindex="-1"><a class="header-anchor" href="#字符串的解构赋值" aria-hidden="true">#</a> 字符串的解构赋值</h3><ul><li>字符串被转换成了一个类似数组的对象。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">,</span> e<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
a <span class="token comment">// &quot;h&quot;</span>
b <span class="token comment">// &quot;e&quot;</span>
c <span class="token comment">// &quot;l&quot;</span>
d <span class="token comment">// &quot;l&quot;</span>
e <span class="token comment">// &quot;o&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>类似数组的对象都有一个length属性，因此还可以对这个属性解构赋值。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span><span class="token literal-property property">length</span> <span class="token operator">:</span> len<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
len <span class="token comment">// 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>字符串分割</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&#39;爱仕达撒所多所大所!&#39;</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token operator">...</span>spStr1<span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">;</span>
<span class="token keyword">const</span> spStr2 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> spStr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>str<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>提取属性</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const[length,split] = str;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="数值和布尔值的解构赋值" tabindex="-1"><a class="header-anchor" href="#数值和布尔值的解构赋值" aria-hidden="true">#</a> 数值和布尔值的解构赋值</h3><h3 id="函数的解构赋值" tabindex="-1"><a class="header-anchor" href="#函数的解构赋值" aria-hidden="true">#</a> 函数的解构赋值</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span>x<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
arr <span class="token operator">=</span> <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="圆括号" tabindex="-1"><a class="header-anchor" href="#圆括号" aria-hidden="true">#</a> 圆括号</h3><ul><li>可以使用圆括号的情况</li><li>可以使用圆括号的情况只有一种：赋值语句的非模式部分，可以使用圆括号。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
<span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">p</span><span class="token operator">:</span> <span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span>parseInt<span class="token punctuation">.</span>prop<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
上面三行语句都可以正确执行，因为首先它们都是赋值语句，而不是声明语句；
其次它们的圆括号都不属于模式的一部分。

第一行语句中，模式是取数组的第一个成员，跟圆括号无关；
第二行语句中，模式是p，而不是d；
第三行语句与第一行语句的性质一致。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="解构赋值的用途" tabindex="-1"><a class="header-anchor" href="#解构赋值的用途" aria-hidden="true">#</a> 解构赋值的用途</h3><ol><li><p>交换变量的值<code>[x,y] = [y,x]</code></p></li><li><p>提取函数返回的多个值</p></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>   <span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">21</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：张三</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：21</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>函数参数定义</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token string">&quot;1.72m&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">c</span><span class="token operator">:</span><span class="token string">&quot;50kg&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">d</span><span class="token operator">:</span><span class="token string">&quot;8000&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
很方便就能提取<span class="token constant">JSON</span>对象中想要的参数，
例如案例中，我们只需要获取实参中的：a，b，c，而不需要关其他的参数
比如：d或者其他更多的参数
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>函数参数的默认值</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">function</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;姓名：&quot;</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：姓名：张三</span>
    <span class="token punctuation">}</span>
    <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>提取 JSON 数据</li></ol><ul><li>解构赋值对提取 JSON 对象中的数据，尤其有用。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> jsonData <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">867</span><span class="token punctuation">,</span> <span class="token number">5309</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token operator">=</span> jsonData<span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> status<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 42, &quot;OK&quot;, [867, 5309]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>遍历 Map 结构</li><li>输入模块的指定方法</li></ol><ul><li>加载模块时，往往需要指定输入哪些方法。</li><li>解构赋值使得输入语句非常清晰<code>const { SourceMapConsumer, SourceNode } = require(&quot;source-map&quot;);</code></li></ul><h2 id="模板字符串" tabindex="-1"><a class="header-anchor" href="#模板字符串" aria-hidden="true">#</a> 模板字符串</h2><ul><li>插入变量把变量放入${ },可去除&#39;+&#39;操作符</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&#39;我叫&#39;+this.name+&#39;,我今年&#39;
`我叫${`Mr.${this.name}`}`

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>自动换行</li><li>可嵌套</li></ul><h3 id="可定义多行" tabindex="-1"><a class="header-anchor" href="#可定义多行" aria-hidden="true">#</a> 可定义多行</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>模板字符串的写法：
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">write once ,
               run anywhere</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>直接换行即可，但是要注意的是：所有的空格和所进都会被保留在输出中。</li><li>如果控制台输出字符串str的话，代码上换了行，控制台输出的时候也会换行。</li></ul><h3 id="javascript表达式" tabindex="-1"><a class="header-anchor" href="#javascript表达式" aria-hidden="true">#</a> javascript表达式</h3><ul><li>${ }中可以放任意的javascript表达式</li><li>${a+b}</li><li>${}中可以是对象的属性</li><li>${}中可以是函数的调用</li><li>模板字符串的大括号内部，就是执行 JavaScript 代码，因此如果大括号内部是一个字符串，将会原样输出。</li></ul><h3 id="标签模板" tabindex="-1"><a class="header-anchor" href="#标签模板" aria-hidden="true">#</a> 标签模板</h3><ul><li>模板指的是上面讲的字符串模板，用反引号定义的字符串；</li><li>标签模板其实不是模板，而是函数调用的一种特殊形式。<code>标签</code>指的就是函数，紧跟在后面的模板字符串就是它的参数。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> height  <span class="token operator">=</span> <span class="token number">1.8</span><span class="token punctuation">;</span>

    tagFn<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">他叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,身高</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">米。</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token comment">//标签+模板字符串</span>

    <span class="token comment">//定义一个函数，作为标签</span>
    <span class="token keyword">function</span> <span class="token function">tagFn</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span>v1<span class="token punctuation">,</span>v2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">//结果：[ &quot;他叫&quot;,&quot;，身高&quot;,&quot;米。&quot; ]</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">//结果：张三</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">//结果：1.8</span>
    <span class="token punctuation">}</span>
	
<span class="token literal-property property">标签模板</span><span class="token operator">:</span>
tagFn<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">他叫</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,身高</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">米。</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>未申明将报错!</li><li>如果需要引用模板字符串本身，在需要时执行，可以写成函数。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token string">&#39;Jack&#39;</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Hello Jack!&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="padstart-和-padend" tabindex="-1"><a class="header-anchor" href="#padstart-和-padend" aria-hidden="true">#</a> padStart 和 padEnd</h3><ul><li>字符串补全: 一个前补一个后补</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&#39;i&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">let</span> str1 <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">padStart</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;moce&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	str1<span class="token punctuation">;</span>	<span class="token comment">//mocei--mocemocei9位</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="repeat-函数" tabindex="-1"><a class="header-anchor" href="#repeat-函数" aria-hidden="true">#</a> repeat()函数</h3><ul><li>将目标字符串重复N次，返回一个新的字符串，不影响目标字符串</li><li>不能为负,小数向上取整</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name1 <span class="token operator">=</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">;</span>  <span class="token comment">//目标字符串</span>
    <span class="token keyword">const</span> name2 <span class="token operator">=</span>  name1<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//变量name1被重复三次；</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name1<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">//结果：i</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：iii</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>方法重写</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>function repeat(str,num) {
	return new Array(num+1).join(str)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="includes函数" tabindex="-1"><a class="header-anchor" href="#includes函数" aria-hidden="true">#</a> includes函数</h3><ul><li>判断字符串中是否含有指定的子字符串，返回true表示含有和false表示未含有。</li><li>第二个参数选填，表示开始搜索的位置。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    const name = &quot;前端君&quot;;			//目标字符串
    name.includes(&#39;君&#39;);		//true, 含有
    name.includes(&#39;web&#39;);		//false, 不含有
    name.includes(&#39;前&#39;,1);		//false, 从第2个字符开始搜索, 不含有

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="startswith函数" tabindex="-1"><a class="header-anchor" href="#startswith函数" aria-hidden="true">#</a> startsWith函数</h3><ul><li>判断指定的子字符串是否出现在目标字符串的开头位置</li><li>第二个参数选填，表示开始搜索的位置</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;前端君&quot;</span><span class="token punctuation">;</span>				<span class="token comment">//目标字符串</span>
    name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;前&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true，出现在开头位置</span>
    name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;端&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//false，不是在开头位置</span>
    name<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&#39;端&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//true，从第2个字符开始</span>
	
	<span class="token comment">//若要从第一个字符开始搜索，参数应该为0或者为空（默认从第一个字符开始搜索）。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="endswith函数" tabindex="-1"><a class="header-anchor" href="#endswith函数" aria-hidden="true">#</a> endsWith函数</h3><ul><li>判断子字符串是否出现在目标字符串的尾部位置</li><li>第二个参数选填，表示针对前N个字符</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;我就是前端君&quot;</span>		<span class="token comment">//目标字符串</span>
    name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;我&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//false，不在尾部位置</span>
    name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;君&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 		<span class="token comment">//true，在尾部位置</span>
    name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;君&#39;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 		<span class="token comment">//false，只针对前5个字符</span>
    name<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;君&#39;</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//true，针对前6个字符</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="codepointat函数" tabindex="-1"><a class="header-anchor" href="#codepointat函数" aria-hidden="true">#</a> codePointAt函数</h3><ul><li>codePointAt()方法可以正确地识别出它是个4个字节的字符，并且能正确地返回它的码点的十进制数</li></ul><h3 id="string-fromcodepoint函数" tabindex="-1"><a class="header-anchor" href="#string-fromcodepoint函数" aria-hidden="true">#</a> String.fromCodePoint函数</h3><ul><li>函数的参数是一个字符对应的码点，返回的结果就是对应的字符，哪怕这个字符是一个4字节的字符，也能正确实现。</li></ul><h3 id="string-raw函数" tabindex="-1"><a class="header-anchor" href="#string-raw函数" aria-hidden="true">#</a> String.raw函数</h3><ul><li>返回字符串最原始的样貌，即使字符串中含有转义符，它都视而不见，直接输出</li></ul><h3 id="unicode编码" tabindex="-1"><a class="header-anchor" href="#unicode编码" aria-hidden="true">#</a> Unicode编码</h3><ul><li>codePointAt 获取字符串中对应字符的一个码点</li><li>at 根据下标取字符(不支持at)</li></ul><h2 id="数值扩展" tabindex="-1"><a class="header-anchor" href="#数值扩展" aria-hidden="true">#</a> 数值扩展</h2><h3 id="新的进制表示法" tabindex="-1"><a class="header-anchor" href="#新的进制表示法" aria-hidden="true">#</a> 新的进制表示法</h3><ul><li>0o 0O <code>octonary</code> 八进制</li><li>0b 0B <code>binary</code> 二进制</li></ul><h3 id="number-parseint函数" tabindex="-1"><a class="header-anchor" href="#number-parseint函数" aria-hidden="true">#</a> Number.parseInt函数</h3><ul><li>解析一个字符串，返回一个整数</li><li>对象移植,作用无变化</li></ul><h3 id="number-isnan函数" tabindex="-1"><a class="header-anchor" href="#number-isnan函数" aria-hidden="true">#</a> Number.isNaN函数</h3><ul><li>用于判断传入的是否是非数值，注意：是判断非数值，而不是判断数值</li><li>IsNaN的全称是： is not a number</li><li>传统的isNaN函数会把非数值的参数转化成数值再进行判断，</li><li>Number. isNaN<code>只对数值类型</code>有效，非数值类型的参数一律返回false</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isNaN</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> value <span class="token operator">!==</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="number-isfinite函数" tabindex="-1"><a class="header-anchor" href="#number-isfinite函数" aria-hidden="true">#</a> Number.isFinite函数</h3><ul><li>用来检查一个数值是否有限。注意是判断有限，不是判断无限</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：true，数值1是有穷，即有限</span>
    Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：false，Infinity表示无限大的特殊值</span>
    Number<span class="token punctuation">.</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">&#39;abc&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//结果：false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>isFinite函数跟isNaN函数一样，也只是对数值类型有效，对非数值类型的参数一律返回false</li></ul><h3 id="number-parsefloat函数" tabindex="-1"><a class="header-anchor" href="#number-parsefloat函数" aria-hidden="true">#</a> Number.parseFloat函数</h3><ul><li>解析一个字符串，并返回一个浮点数</li><li>对象移植,作用无变化</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>   //传统用法：
    parseInt(&#39;12.3abc&#39;);
    //结果：返回数值12

    //ES6用法：
    Number.parseInt(&#39;12.3abc&#39;);
    //结果：返回数值12
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="number-issafeinteger" tabindex="-1"><a class="header-anchor" href="#number-issafeinteger" aria-hidden="true">#</a> Number.isSafeInteger</h3><ul><li>Number.MAX.SATE_INTEGER</li><li>Number.MIN.SATE_INTEGER</li><li>2的(53次方-1)----负2的(53次方-1)</li></ul><h3 id="number-isinteger函数" tabindex="-1"><a class="header-anchor" href="#number-isinteger函数" aria-hidden="true">#</a> Number.isInteger函数</h3><ul><li>用来判断是否是整数</li><li>javascript内部对整数和浮点数采用一样的存储方式，数值3.0和3.00都会被认为是整数</li></ul><h3 id="极小常量" tabindex="-1"><a class="header-anchor" href="#极小常量" aria-hidden="true">#</a> 极小常量</h3><ul><li>Number.EPSILON常量：定义一个极小的数值</li></ul><h3 id="math" tabindex="-1"><a class="header-anchor" href="#math" aria-hidden="true">#</a> Math</h3><ul><li>Math.trunc函数:用于去除一个数的小数部分，返回整数部分</li><li>Math.sign函数:用来判断一个数到底是正数、负数、还是零</li><li>Math.cbrt函数：用于计算一个数的立方根。</li></ul><h2 id="数组扩展" tabindex="-1"><a class="header-anchor" href="#数组扩展" aria-hidden="true">#</a> 数组扩展</h2><h3 id="array-from-函数" tabindex="-1"><a class="header-anchor" href="#array-from-函数" aria-hidden="true">#</a> Array.from()函数</h3><ul><li>将类似数组的对象或者可遍历的对象转换成真正的数组</li><li>Array.from函数其中一个用处就是将字符串转换成数组</li></ul><h3 id="array-of-函数" tabindex="-1"><a class="header-anchor" href="#array-of-函数" aria-hidden="true">#</a> Array.of()函数</h3><ul><li>将一组值转化为数组</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment">//结果:[1,2,3,4,5]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="includes" tabindex="-1"><a class="header-anchor" href="#includes" aria-hidden="true">#</a> includes()</h3><ul><li>判断函数中是否存在某一项 <code>arr.includes()</code></li></ul><h3 id="find-函数" tabindex="-1"><a class="header-anchor" href="#find-函数" aria-hidden="true">#</a> find()函数</h3><ul><li>找出数组中符合条件的第一个元素,符合则返回值,反之返回undefind</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">return</span> value <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token punctuation">)</span>	<span class="token comment">//结果：value=3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="findindex-函数" tabindex="-1"><a class="header-anchor" href="#findindex-函数" aria-hidden="true">#</a> findIndex()函数</h3><ul><li>返回符合条件的第一个数组的下标</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     arr<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token keyword">return</span> value <span class="token operator">&gt;</span> <span class="token number">8</span> <span class="token punctuation">)</span>		<span class="token comment">//结果：2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>倘若所有元素都不符合匿名函数的条件，findIndex()函数就会返回-1</li></ul><h3 id="fill-函数" tabindex="-1"><a class="header-anchor" href="#fill-函数" aria-hidden="true">#</a> fill()函数</h3><ul><li>用指定的值，填充到数组，一般用于默认值</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//结果：[4,4,4]		全部覆盖</span>
	
	<span class="token comment">//填充部分</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//结果：[1,4,4]		后两个参数指定范围</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="entries-函数" tabindex="-1"><a class="header-anchor" href="#entries-函数" aria-hidden="true">#</a> entries()函数</h3><ul><li>对数组的下标和值进行遍历，返回一个遍历器，可以用for..of对其进行遍历</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span>v<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//0 &quot;a&quot;</span>
    <span class="token comment">//1 &quot;b&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="keys-函数" tabindex="-1"><a class="header-anchor" href="#keys-函数" aria-hidden="true">#</a> keys()函数</h3><ul><li>函数作用：对数组的下标进行遍历，返回一个迭代器</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//0</span>
    <span class="token comment">//1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="values-函数" tabindex="-1"><a class="header-anchor" href="#values-函数" aria-hidden="true">#</a> values()函数</h3><ul><li>作用：对数组的每一项进行遍历，返回一个迭代器。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;b&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//a</span>
    <span class="token comment">//b</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="数组推导-浏览器不兼容" tabindex="-1"><a class="header-anchor" href="#数组推导-浏览器不兼容" aria-hidden="true">#</a> 数组推导(浏览器不兼容)</h3><ul><li>用简洁的写法，直接通过现有的数组生成新数组</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">of</span> arr1<span class="token punctuation">)</span> i <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果： [ 2, 4, 6, 8 ]</span>
 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在数组推导中，for..of后面还可以加上if语句，我们看来看看代码案例：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">const</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> array2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">of</span> array1<span class="token punctuation">)</span>  <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">&gt;</span><span class="token number">3</span><span class="token punctuation">)</span> i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>array2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果： [4]</span>
	<span class="token comment">// 在上面代码中，我们不再是对数组的元素乘以2，而是用if做了个判断：数组的元素要大于3。所以运行的结果是：[ 4 ]。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="对象扩展" tabindex="-1"><a class="header-anchor" href="#对象扩展" aria-hidden="true">#</a> 对象扩展</h2><h3 id="对象简写" tabindex="-1"><a class="header-anchor" href="#对象简写" aria-hidden="true">#</a> 对象简写</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">&quot;Zhangsan&quot;</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>

    <span class="token comment">//传统的属性写法</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span>name<span class="token punctuation">,</span>
        <span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span>age
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//结果：{name: &quot;Zhangsan&quot;, age: 12}</span>

    <span class="token comment">//ES6的属性写法</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span>age<span class="token punctuation">}</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//结果：{name: &quot;Zhangsan&quot;, age: 12}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对象的属性可以这样简写，那么对象的方法如下:</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">//传统的表示法</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">say</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;这是传统的表示法&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">//ES6的表示法</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;这是ES6的表示法&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>属性名可以是表达式，用<code>[]</code>访问</li></ul><h3 id="对象复制" tabindex="-1"><a class="header-anchor" href="#对象复制" aria-hidden="true">#</a> 对象复制</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//浅拷贝,复制的是对象的引用</span>
<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token comment">//扩展运算符方法	</span>
<span class="token keyword">const</span> cObj1  <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>obj1<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="合并对象" tabindex="-1"><a class="header-anchor" href="#合并对象" aria-hidden="true">#</a> 合并对象</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//浅拷贝,合并的也是对象的引用</span>
<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>obj1<span class="token punctuation">,</span>
	<span class="token operator">...</span>obj2
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="object-is-函数" tabindex="-1"><a class="header-anchor" href="#object-is-函数" aria-hidden="true">#</a> Object.is()函数</h3><ul><li>函数的作用：比较两个值是否严格相等，或者说全等</li><li>和全等的细微区别如下：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>		<span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span>				<span class="token comment">//turn</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span>		<span class="token comment">//turn</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token number">NaN</span><span class="token punctuation">)</span>			<span class="token comment">//false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="object-assign" tabindex="-1"><a class="header-anchor" href="#object-assign" aria-hidden="true">#</a> Object.assign()</h3><ul><li>函数作用：将源对象的属性赋值到目标对象上</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;a&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>			<span class="token comment">//这个充当目标对象</span>
    <span class="token keyword">let</span> origin <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-property property">&quot;b&quot;</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string-property property">&quot;c&quot;</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>		<span class="token comment">//这个充当源对象</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>origin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//结果 {a: 1, b: 2, c: 3}</span>

	<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">b</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">c</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>	<span class="token comment">//属性都被合并到obj上</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>浅拷贝</li><li>对象的属性出现了相同的名字，后面的属性值就会覆盖前面的属性值</li><li>(给对象添加属性和方法，克隆对象，合并多个对象，为对象的属性指定默认值)</li></ul><h3 id="object-keys" tabindex="-1"><a class="header-anchor" href="#object-keys" aria-hidden="true">#</a> Object.keys()</h3><ul><li>返回自身所有可枚举属性的keys组成的数组（属性名）</li></ul><h3 id="object-values" tabindex="-1"><a class="header-anchor" href="#object-values" aria-hidden="true">#</a> Object.values()</h3><ul><li>返回自身所有可枚举属性的values组成的数组（属性值）</li></ul><h3 id="object-entries" tabindex="-1"><a class="header-anchor" href="#object-entries" aria-hidden="true">#</a> Object.entries()</h3><ul><li>返回每队key，value组成数组的数组</li></ul><h3 id="proto" tabindex="-1"><a class="header-anchor" href="#proto" aria-hidden="true">#</a> <strong>proto</strong></h3><ul><li>对象的原型</li></ul><h3 id="object-getprototypeof" tabindex="-1"><a class="header-anchor" href="#object-getprototypeof" aria-hidden="true">#</a> Object.getPrototypeOf()</h3><ul><li>函数作用：获取一个对象的prototype属性,也可以修改原型</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">//自定义一个Person类（函数）</span>
    <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//函数都有一个预属性prototype对象</span>
    <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">//给prototype对象添加一个say方法</span>
        <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">//实例化Person对象，赋值给变量allen</span>
    <span class="token keyword">let</span> allen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用类的say方法</span>
    allen<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：打印出hello</span>
	
	<span class="token comment">//获取allen对象的prototype属性</span>
    Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>allen<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：打印{say:function(){.....}}</span>

<span class="token comment">//修改</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span>；
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>		<span class="token comment">//`obj1</span>
Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>obj2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>		<span class="token comment">//obj2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="object-getprototypeof-函数" tabindex="-1"><a class="header-anchor" href="#object-getprototypeof-函数" aria-hidden="true">#</a> Object.getPrototypeOf()函数</h3><ul><li>函数作用：读取一个对象的prototype属性</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">//自定义一个Person类（函数）</span>
    <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">//函数都有一个预属性prototype对象</span>
    <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">//给prototype对象添加一个say方法</span>
        <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">//实例化Person对象，赋值给变量allen</span>
    <span class="token keyword">let</span> allen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//调用类的say方法</span>
    allen<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//结果：打印出hello</span>

    <span class="token comment">//使用Object.setPrototypeOf</span>
    Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>
            allen<span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hi&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//再次调用类的say方法</span>
    allen<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//结果：打印出hi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="super" tabindex="-1"><a class="header-anchor" href="#super" aria-hidden="true">#</a> super</h3><ul><li>可以拿到原型对象上的属性</li><li>只有用对象的简写方式才可以用super eg：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span> <span class="token operator">:</span><span class="token string">&#39;xiaoming&#39;</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> cObj <span class="token operator">=</span> <span class="token punctuation">{</span>
	say <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;my name is ${super.name}&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span>cObj<span class="token punctuation">,</span>obj<span class="token punctuation">)</span>
cObj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">// xiaoming</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="面向对象思想" tabindex="-1"><a class="header-anchor" href="#面向对象思想" aria-hidden="true">#</a> 面向对象思想</h3><ul><li>面向对象编程有几个关键步骤：</li><li>1、构造函数；</li><li>2、给prototype对象添加属性和方法；</li><li>3、实例化；</li><li>4、通过实例化后的对象调用类的方法或者属性</li></ul><h2 id="函数扩展" tabindex="-1"><a class="header-anchor" href="#函数扩展" aria-hidden="true">#</a> 函数扩展</h2><h3 id="参数的默认值" tabindex="-1"><a class="header-anchor" href="#参数的默认值" aria-hidden="true">#</a> 参数的默认值</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&#39;Zhangsan&#39;</span><span class="token punctuation">,</span>age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>    
    <span class="token function">person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：Zhangsan  25</span>
    <span class="token function">person</span><span class="token punctuation">(</span><span class="token string">&#39;Lisi&#39;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：Lisi  18</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>设定默认值的参数一定要放在最后</li><li>只有当传入的参数为undefined，才会触发默认值赋值，否则，哪怕你传的参数值为0，false，null都不会触发默认值赋值</li><li>函数的参数是默认声明的，声明过的变量，就不能用let或者const关键字再次声明，</li><li>否则会报错的，不信给你看一个案例：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">age <span class="token operator">=</span> <span class="token number">12</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span><span class="token comment">//错误，再次声明age</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="扩展运算符-剩余参数" tabindex="-1"><a class="header-anchor" href="#扩展运算符-剩余参数" aria-hidden="true">#</a> 扩展运算符(剩余参数)</h3><ul><li>结合数组使用，把数组的元素用逗号分隔开来，组成一个序列</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>扩展运算
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>实际开发中,它可以将一个数组转成一个对应的参数数列</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> number<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>  a<span class="token operator">+</span>b <span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">实际上，sum</span><span class="token punctuation">(</span> <span class="token operator">...</span>nums<span class="token punctuation">)</span> 的效果相当于sum<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>更好的解释(剩余参数),剩余参数必须是最后一个参数</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//聚合作用,剩余参数,参数聚合为数组</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//let args = Array.prototype.slice.call(arguments);</span>
	<span class="token comment">//let args = [...arguments]</span>
	<span class="token comment">//let [...args] = arguments</span>
	
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">sums</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">3454</span><span class="token punctuation">,</span><span class="token number">4545</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="箭头函数" tabindex="-1"><a class="header-anchor" href="#箭头函数" aria-hidden="true">#</a> 箭头函数</h2><ul><li>一种全新的定义函数的方式，就是用箭头符号<code>=&gt;</code>，故得名为箭头函数</li><li><code>function fn(a,b) {}-------(a,b)=&gt;{}</code></li><li>箭头函数中的this指向的是定义时的this，而不是执行时的this</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 当只有一个参数时，圆括号是可选的：</span>
<span class="token punctuation">(</span><span class="token parameter">单一参数</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>函数声明<span class="token punctuation">}</span>
<span class="token parameter">单一参数</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>函数声明<span class="token punctuation">}</span>

<span class="token comment">// 没有参数的函数应该写成一对圆括号。</span>
<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>函数声明<span class="token punctuation">}</span>

 <span class="token comment">//传统写法</span>
    <span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span>  a <span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    
<span class="token comment">//箭头函数写法</span>
    <span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token parameter">a</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>第一个a代表是传进去的参数，箭头=&gt;后面的a表示函数体</li><li>如果传入的参数不止一个，或者函数体不是简单的返回a，需要做一些其他的运算，含有多条语句的话，怎么办？</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//箭头函数写法</span>
    <span class="token keyword">const</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> a<span class="token operator">+</span>b
		<span class="token punctuation">}</span>
    <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>如果参数超过1个的话，需要用小括号（）括起来</p></li><li><p>函数体语句超过1条的时候，需要用大括号{ }括起来</p></li><li><p>假设我们现在要对一个数组 [ 1,2,3,4 ] 里面的数求和，我们分别用传统的方式和箭头函数都实现一次，大家看看差别：</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//传统的写法</span>
<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	sum <span class="token operator">+=</span> v<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//箭头函数的写法</span>
<span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> sum<span class="token operator">+=</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>编写匿名函数
<span class="token keyword">const</span> <span class="token function-variable function">myFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> myVar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//和一般的函数一样，你也可以给箭头函数传递参数。</span>
<span class="token comment">// 给传入的数值乘以 2 并返回结果</span>
<span class="token keyword">const</span> <span class="token function-variable function">doubler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token comment">//多行可以取消返回</span>
<span class="token keyword">const</span> <span class="token function-variable function">doubler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token comment">//或者加void:结果不返回或者返回undefind</span>
<span class="token keyword">const</span> <span class="token function-variable function">doubler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这些函数表达式更适用于那些本来需要匿名函数的地方，并且它们不能用作构造函数</li><li>箭头函数表达式的语法比函数表达式更短，并且没有自己的<code>this，arguments(...arr)，super</code>(super关键字用于访问和调用一个对象的父对象上的函数)</li><li>箭头函数不能用作构造器，和 new一起用会抛出错误</li><li>箭头函数没有prototype属性</li><li>箭头函数在参数和箭头之间不能换行</li><li>不能使用 delete 操作符 加 super.prop 或者 super[expr] 去删除父类的属性，这样做会抛出 ReferenceError</li><li>在构造函数中使用时，super关键字将单独出现，并且必须在使用this关键字之前使用。</li><li>super关键字也可以用来调用父对象上的函数</li><li>new.target(es6的类方法中，在调用时候，使用new，new.target指向类本身，没有使用new就是undefined)</li></ul><h3 id="通过-call-或-apply-调用" tabindex="-1"><a class="header-anchor" href="#通过-call-或-apply-调用" aria-hidden="true">#</a> 通过 call 或 apply 调用</h3><ul><li>由于 箭头函数没有自己的this指针，通过 call() 或 apply()</li><li>方法调用一个函数时，只能传递参数（不能绑定this---译者注），他们的第一个参数会被忽略。（这种现象对于bind方法同样成立---译者注）</li><li>ES6 里允许给函数传入默认参数，来构建更加灵活的函数。</li></ul><h3 id="不绑定arguments" tabindex="-1"><a class="header-anchor" href="#不绑定arguments" aria-hidden="true">#</a> 不绑定arguments</h3><ul><li>箭头函数不绑定Arguments 对象。因此，在本示例中，arguments只是引用了封闭作用域内的arguments：</li></ul><div class="language-stylus ext-styl line-numbers-mode"><pre class="language-stylus"><code>function <span class="token func"><span class="token function">greeting</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;Anonymous&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
  <span class="token statement"><span class="token keyword">return</span> <span class="token string">&quot;Hello &quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token func"><span class="token function">log</span><span class="token punctuation">(</span>greeting<span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello John</span></span>
console<span class="token punctuation">.</span><span class="token func"><span class="token function">log</span><span class="token punctuation">(</span><span class="token func"><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span><span class="token comment">// Hello Anonymous</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="rest" tabindex="-1"><a class="header-anchor" href="#rest" aria-hidden="true">#</a> rest</h3><ul><li>在rest操作符的帮助下，你可以创建有一个变量来接受多个参数的函数。这些参数被储存在一个可以在函数内部读取的数组中。</li></ul><div class="language-TS ext-TS line-numbers-mode"><pre class="language-TS"><code>const arr = [6, 89, 3, 45];
const maximus = Math.max.apply(null, arr); // 返回 89

ES6:
const arr = [6, 89, 3, 45];
const maximus = Math.max(...arr); // 返回 89
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>就代表是获取函数剩下部分的参数</li><li>在实参中，除了第一个参数以外，剩余的参数都会被...values获取到</li><li>将一组数字进行求和，然后把求和的结果赋值到一个变量去，我们用rest参数实现：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//求和函数，得到的结果赋值到result</span>
    <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span><span class="token operator">...</span>values</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//打印values看看是什么</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//结果：[1,2,3,4]</span>

        <span class="token comment">//进行求和</span>
     values<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//求和得到的结果存到result</span>
            result <span class="token operator">+=</span> v<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//打印出求和的结果看看</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//结果：10</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//存储求和结果的变量res</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">//调用sum函数</span>
    <span class="token function">sum</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>案例主要是介绍了rest参数的用法，首先是表示法：<code>...values</code>（三个点+变量名）</li><li>其次，values是一个数组；</li><li>rest参数必须是函数的最后一个参数，后面不能再跟其他参数;特定情况下rest更好用!</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//错误写法
    function sum(result, ...values, mult){
        //rest参数...values后面还有一个参数mult
    }
    //正确的写法
    function sum(result, mult, ...values){
        //rest参数...values放在最后
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>rest参数只能写在最后，前面用...标识，从运行结果可知，传入的参数先绑定a、b，多余的参数以数组形式交给变量rest，所以，不再需要arguments我们就获取了全部参数</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>rest</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;a = &#39;</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;b = &#39;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 结果:</span>
<span class="token comment">// a = 1</span>
<span class="token comment">// b = 2</span>
<span class="token comment">// Array [ 3, 4, 5 ]</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 结果:</span>
<span class="token comment">// a = 1</span>
<span class="token comment">// b = undefined</span>
<span class="token comment">// Array []</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>如果传入的参数连正常定义的参数都没填满，也不要紧，rest参数会接收一个空数组（注意不是undefined）。</p></li><li><p>因为rest参数是ES6新标准，所以你需要测试一下浏览器是否支持。请用rest参数编写一个sum()函数，接收任意个参数并返回它们的和：</p></li></ul><div class="language-TS ext-TS line-numbers-mode"><pre class="language-TS"><code>&#39;use strict&#39;;
function sum(...rest) {
   let result = 0;
   for(let i = 0;i
        result += rest[i];
   }
}

// 测试:
var i, args = [];
for (i=1; i&lt;=100; i++) {
    args.push(i);
}
if (sum() !== 0) {
    console.log(&#39;测试失败: sum() = &#39; + sum());
} else if (sum(1) !== 1) {
    console.log(&#39;测试失败: sum(1) = &#39; + sum(1));
} else if (sum(2, 3) !== 5) {
    console.log(&#39;测试失败: sum(2, 3) = &#39; + sum(2, 3));
} else if (sum.apply(null, args) !== 5050) {
    console.log(&#39;测试失败: sum(1, 2, 3, ..., 100) = &#39; + sum.apply(null, args));
} else {
    console.log(&#39;测试通过!&#39;);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="promise" tabindex="-1"><a class="header-anchor" href="#promise" aria-hidden="true">#</a> Promise</h2><ul><li>Promise对象用于表示一个异步操作的最终状态（成功或者失败）以及其返回值</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span>  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安全可靠，确定成功或者失败后，就不再被更改</li><li><code>.then(resolve,reject)</code>第一个参数成功要做的事，第二个参数失败要做的事</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token function">console</span><span class="token punctuation">(</span><span class="token string">&#39;成功！&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;失败！&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="同步-异步" tabindex="-1"><a class="header-anchor" href="#同步-异步" aria-hidden="true">#</a> 同步？异步？</h3><ul><li>同步会阻塞程序执行（alert，for）</li><li>异步任务不会阻塞程序执行（setTimeout.fsreadFile）</li></ul><h3 id="promise的错误处理" tabindex="-1"><a class="header-anchor" href="#promise的错误处理" aria-hidden="true">#</a> promise的错误处理</h3><ul><li>使用实例的·catch·方法，可以捕获错误；</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">f</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token function">then</span> <span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//没有第二个参数对错误进行处理，就会执行catch</span>
<span class="token punctuation">.</span><span class="token function">catch</span> <span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;执行catch&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token operator">...</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>finally</code> 不论promise对错都会执行；</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="promise的状态" tabindex="-1"><a class="header-anchor" href="#promise的状态" aria-hidden="true">#</a> Promise的状态</h3><ul><li>pendeing--进行中，fulfilled--成功，rejected--失败</li><li>状态的决议一旦确定，不可逆，切不可修改</li></ul><h3 id="promise-all方法" tabindex="-1"><a class="header-anchor" href="#promise-all方法" aria-hidden="true">#</a> Promise.all方法</h3><ul><li>Promise.all([promise1,promise2] : Promise)</li></ul><ol><li>数组中的promise实例都成功，Promise.all则返回成功，并且把promise实例<code>.then</code>的参数组合成数组传递回来；顺序一一对应</li><li>任意一个失败，则失败，并把失败的实例的错误传递回来，</li><li>空数组表示为成功；</li></ol><h3 id="promise-race方法" tabindex="-1"><a class="header-anchor" href="#promise-race方法" aria-hidden="true">#</a> Promise.race方法</h3><ul><li>Promise.race([promise1,promise2]) :Pomise</li></ul><h2 id="symbol" tabindex="-1"><a class="header-anchor" href="#symbol" aria-hidden="true">#</a> Symbol</h2><ul><li>标志，记号:解决对象的属性名冲突</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>  怎样判断是它是独一无二的值呢？我们来看看：
    let sm1 = Symbol();
    let sm2 = Symbol();

    sm1 === sm2 //结果：false

    console.log(sm1);//结果：Symbol()
    console.log(sm2);//结果：Symbol()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>可以用参数进而区别:</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let sm1 = Symbol(&#39;sm1&#39;);
    let sm2 = Symbol(&#39;sm2&#39;);

    console.log(sm1);
    //结果：Symbol(sm1)

    console.log(sm2);
    //结果：Symbol(sm2)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>即使参数一样，描述一样，得到的两个值也是不相等的</li><li>当symbol值作为对象的属性名的时候，不能用点运算符获取对应的值。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    let name = Symbol();
    let person = {
        [name]:&quot;张三&quot;
    };
    console.log(person[name]);
    //结果：张三

    console.log(person.name);
    //结果：undefined
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//要注意，把一个symbol类型的值作为对象的属性名的时候，一定要用中括号[ ]，不能用点运算符，
//因为用点运算符的话，会导致javascript把后面的属性名为理解为一个字符串类型，而不是symbol类型。具体看代码：

    let name = Symbol();
    let person = {};

    person.name = &quot;张三&quot;;

    person[name];   //结果：undefined
    person[&#39;name&#39;]; //结果：张三
    person.name;    //结果：张三```
//变量name是symbol，但是给person对象设置属性的时候，
//用的是点运算符person.name，而不是中括号person[ name ]，这会有什么后果呢？
//导致person对象中的属性name实际上是字符串类型的
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>person[ name ]这句代码相当于要求javascript去person对象内找一个symbol类型的属性name，</li><li>不好意思，没有，找不到。person对象只有一个字符串类型的属性name；</li><li>所以，如果用person[‘name’]或者peroson.name获取的话，就能找到对应的属性name了。</li></ul><h3 id="属性名的遍历" tabindex="-1"><a class="header-anchor" href="#属性名的遍历" aria-hidden="true">#</a> 属性名的遍历</h3><ul><li>当symbol类型的值作为属性名的时候，该属性是不会出现在for...in和for...of中的，也不会被Object.keys()获取到</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//定义一个symbol类型的变量name
    let name = Symbol();

    //定义一个含有两种类型属性的对象
    let person = {
        [name]:&quot;张三&quot;,  //symbol类型
        &quot;age&quot;:12        //string类型
    };

    Object.keys(person);//结果：[&quot;age&quot;]

	for(let key in person){
		console.log(key);
	}
    //打印结果：age
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="getownpropertysymbols-函数" tabindex="-1"><a class="header-anchor" href="#getownpropertysymbols-函数" aria-hidden="true">#</a> getOwnPropertySymbols()函数</h3><ul><li>它会找到symbol类型的属性并且返回一个数组，数组的成员就是symbol类型的属性值</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//定义两个symbol类型的变量name，age
    let name = Symbol(&quot;name&quot;);
    let age = Symbol(&quot;age&quot;);

    let person = {
        [name]:&quot;张三&quot;, //symbol类型
        [age]:12       //symbol类型
    };

    Object.getOwnPropertySymbols(person);


    //结果：[Symbol(name), Symbol(age)]
//	用getOwnPropertySymbols()方法来，结果成功了，得到一个数组，
//	数组的内容就是两个symbol类型变量对应的值Symbol(name)和 Symbol(age)。
 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="reflect-ownkeys-函数" tabindex="-1"><a class="header-anchor" href="#reflect-ownkeys-函数" aria-hidden="true">#</a> Reflect.ownKeys()函数</h3><ul><li>同时获取字符串类型的属性和获取symbol类型的属性</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//定义一个对象，含有两种类型的属性
    let person = {
        [Symbol(&#39;name&#39;)]:&quot;张三&quot;,
        &quot;age&quot;: 21
    };

    Reflect.ownKeys(person);
    //结果：[&quot;age&quot;,Symbol(name)]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="symbol-for-函数" tabindex="-1"><a class="header-anchor" href="#symbol-for-函数" aria-hidden="true">#</a> Symbol.for()函数</h3><ul><li>函数作用：按参数名，去全局环境中搜索是否有该参数为名的symbol值，有就返回它，没有就按参数名来创建一个新的symbol值</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let n1 = Symbol.for(&#39;name&#39;);
    let n2 = Symbol.for(&#39;name&#39;);
    console.log(n1 === n2);
    //结果：true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Symbol.for()创建的symbol值会被登记在全局环境中，供以后用Symbol.for()来搜索，</li><li>Symbol()创建的变量就没有这样的效果</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let n1 = Symbol(&#39;name&#39;);
    let n2 = Symbol.for(&#39;name&#39;);
    console.log(n1 === n2);
    //结果：false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="symbol-keyfor-函数" tabindex="-1"><a class="header-anchor" href="#symbol-keyfor-函数" aria-hidden="true">#</a> Symbol.keyFor()函数</h3><ul><li>函数作用：返回一个以<code>被登记在全局环境中</code>的symbol值的key，没有就返回undefined</li><li>注意关键词：<code>被登记在全局环境中</code>，也就是说这个symbol值是被Symbol.for()创建，不是被Symbol()创建</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>let n1 = Symbol.for(&#39;name&#39;);
    Symbol.KeyFor(n1);
    //结果：name
//	变量n1是被Symbol.for()创建，不是被Symbol()创建的，
//	所以用Symbol.keyFor()去找，是能找到的，会返回这个symbol值的key，也就是它的描述：name。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>我们再对上面的案例稍做修改：</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    let n1 = Symbol(&#39;name&#39;);
    Symbol.KeyFor(n1);
    //结果：undefined
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这段代码的变量n1是用Symbol()创建的，最后的结果是undefined；这就证明了两个知识点：</li><li>1、Symbol()创建symbol值不会被登记在全局环境中供Symbol.for()和Symbol.keyFor()搜索；</li><li>2、Symbol.keyFor()函数在全局环境中找不到对应的symbol，就回返回undefined。</li></ul><h2 id="es6-proxy代理" tabindex="-1"><a class="header-anchor" href="#es6-proxy代理" aria-hidden="true">#</a> ES6 Proxy代理</h2><ul><li>将一个对象交给了Proxy代理，然后通过编写处理函数，来拦截目标对象的操作</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//定义一个对象person
    const person = {&quot;name&quot;:&quot;张三&quot;};

    //创建一个代理对象pro，代理person的读写操作
    const pro = new Proxy(person,{
        get:function(target,property){
            return &quot;李四&quot;
        }
    });

    pro.name;//李四

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="set方法" tabindex="-1"><a class="header-anchor" href="#set方法" aria-hidden="true">#</a> set方法</h3><ul><li>set方法，它用于拦截对对象的写操作</li><li>get方法拦截了读取操作，set方法拦截了改写操作</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>   //定义一个对象，含有RMB和dollar属性值
    const bankAccount = {&quot;RMB&quot;:1000,&quot;dollar&quot;:0};
    //创建一个Proxy代理实例
    const banker = new Proxy(bankAccount,{
        //编写get处理程序
        get:function(target, property){
            //判断余额是否大于0
            if(target[property] &gt; 0){
                //有余额，就返回余额值
                return target[property];
            }else{
                //没钱了
                return &quot;余额不足&quot;;
            }    
        },
        //编写set处理程序
        set:function(target,property,value){
            //存入的数额必须是一个数字类型
            if(!Number.isInteger(value)){
                return &quot;请设置正确的数值&quot;;
            }
            //修改属性的值
            target[property] = value;
        }
    });

    banker.RMB;
    //结果：1000
    banker.dollar;
    //结果：余额不足

    //修改dollar属性的值，值是字符串类型
    banker.dollar = &quot;五百&quot;;
    banker.dollar;
    //结果：余额不足

    //修改dollar属性的值，值是数字类型
    banker.dollar = 500;
    banker.dollar;
    //结果：500
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ownkeys-方法" tabindex="-1"><a class="header-anchor" href="#ownkeys-方法" aria-hidden="true">#</a> ownKeys()方法</h3><ul><li>ownKeys拦截操作，拦截过滤Object.ownKeys()对对象的属性遍历。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //定义一个对象person，有三个属性
    let person = {&quot;name&quot;:&quot;老王&quot;,&quot;age&quot;:40,&quot;height&quot;:1.8};
    //创建一个代理对象
    let proxy = new Proxy(person,{
        //ownKeys过滤对对象的属性遍历
      ownKeys:function(target){
            return [&quot;name&quot;,&quot;age&quot;]
        }
    });

    Object.keys(person);
    //结果：[&quot;name&quot;, &quot;age&quot;,&quot;height&quot;]
    Object.keys(proxy);
    //结果：[&quot;name&quot;, &quot;age&quot;]

//	Object.keys(proxy) 这句代码遍历的是被代理的proxy对象，
//	所以，得到的只是被过滤后的结果：[“name”,”age”]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="has-方法" tabindex="-1"><a class="header-anchor" href="#has-方法" aria-hidden="true">#</a> has()方法</h3><ul><li>拦截key in object的操作，结果会返回一个布尔值。</li><li>has()方法用于是判断是否含有指定的键值对，有，就返回true。否则返回false</li><li>apply()方法:如果被代理的变量是一个函数，那么还会支持一个拦截程序：apply调用</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //创建一个函数fn
    let fn = function(){
        alert(&#39;我是前端君&#39;);
    };
    //创建一个代理实例，代理函数fn
    let proxy = new Proxy(fn,{
        apply:function(){
            alert(&#39;我是隔壁老王&#39;);
        }
    });

    proxy();//结果：我是隔壁老王
	proxy本身是一个代理实例对象，因为它代理的是一个函数fn，
	所以可以直接用函数的形式调用proxy()；当它当作函数调用的时候，就会被apply拦截，
	执行alert(&#39;我是隔壁老王&#39;)。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="proxy-revocable-取消代理" tabindex="-1"><a class="header-anchor" href="#proxy-revocable-取消代理" aria-hidden="true">#</a> Proxy.revocable()取消代理</h3><ul><li>如果创建了代理之后又想取消代理的话，我们可以用Proxy.revocable()函数来实现，</li><li>它会返回一个对象，对象中含有一个proxy属性，它就是Proxy的代理实例对象；还有一个revoke属性</li></ul><h2 id="for-of" tabindex="-1"><a class="header-anchor" href="#for-of" aria-hidden="true">#</a> for...of</h2><ul><li>可遍历的对象包括数组，对象，字符串，set和map结构等具有iterator 接口的数据结构</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> const arr = [1,2,3,4,5];
    for(let value of arr){
        console.log(value);
    }
    //打印结果：依次输出：1 2 3 4 5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>写法比for循环简洁很多；</li><li>可以用break来终止整个循环，或者continute来跳出当前循环，继续后面的循环；</li><li>结合keys()获取到循环的索引，并且是数字类型，而不是字符串类型。</li></ul><h3 id="循环可以终止" tabindex="-1"><a class="header-anchor" href="#循环可以终止" aria-hidden="true">#</a> 循环可以终止</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    const arr = [1,2,3,4,5];
    for(let value of arr){
        if(value == 3){
            //终止整个循环
            break;
        }
        console.log(value);
    }
    //打印结果：1 2
	```

### 可跳过当前循环
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>const arr = [1,2,3,4,5];
for(let value of arr){
    if(value == 3){
        //跳过当前循环，继续后面的循环
        continue;
    }
    console.log(value);
}
//打印结果：1 2 4  5
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
### 得到数字类型的索引
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>const arr = [1,2,3,4,5];
for(let index of arr.keys()){
    console.log(index);
}
//打印结果：依次输出:0 1 2 3 4
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
### 遍历字符串
- for...of 支持字符串的遍历。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>let word = &quot;我是前端君&quot;;
for(let w of word){
    console.log(w);
}
//打印结果：我  是  前  端  君
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
### 遍历DOM List
- for...of支持类数组的遍历，例如DOM List
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;2&lt;/p&gt;
&lt;p&gt;3&lt;/p&gt;
//假设有3个p元素
let pList = document.getElementsByTagName(&#39;p&#39;);

for(let p of pList){
    console.log(p);
}
// 打印结果：&lt;p&gt;1&lt;/p&gt;
//          &lt;p&gt;2&lt;/p&gt;
//          &lt;p&gt;3&lt;/p&gt;
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
## lterator遍历器
- 拥有一个叫`[Symbol.iterator]()`方法的数据结构，就可以被for...of遍历，称之为：可遍历对象
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>//数组 Array.prototype[Symbol.iterator]; //结果：function values(){...}</p><pre><code>//字符串
String.prototype[Symbol.iterator];
//结果：function [Symbol.iterator](){...}

//Set结构
Set.prototype[Symbol.iterator];
//结果：function values(){...}

//Map结构
Map.prototype[Symbol.iterator];
//结果：function entries(){...}

//Object对象
Object.prototype[Symbol.iterator];
//结果：undefined
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- 注意：Symbol.iterator 是Symbol 对象的 iterator 属性，是一个特殊的Symbol值，
- 因此，当它作为prototype对象属性名的时候，获取它的时候需要
- 使用[]的形式: `prototype[Symbol.iterator]`，不能使用点形式获取：`prototype.Symbol.iterator`

### Iterator遍历器的原理next()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>//数组：一个可遍历对象 let arr = [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]; //调用数组的Symbol.iterator()方法 let iter = arr<a href="">Symbol.iterator</a>;</p><pre><code>iter.next();
//结果：{value: &quot;a&quot;, done: false}

iter.next();
//结果：{value: &quot;b&quot;, done: false}

iter.next();
//结果：{value: &quot;c&quot;, done: false}

iter.next();
//结果：{value: undefined, done: true}

第3次调用next()方法：返回数组的第3个元素：“c”,以及done的值依然为fasle，表示循环没有结束，继续遍历。
第4次调用next()方法：返回的value值为undefined，以及done的值变成了true，表示遍历结束。
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- for...of的原理就是：先调用可遍历对象的[Symbol.iterator]()方法，得到一个iterator遍历器对象，
- 然后就在遍历器上不断调用next()方法，直到done的值为true的时候，就表示遍历完成结束了

### 自定义Iterator遍历器
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>//定义一个的Object对象 let obj = { 0:&quot;我是0&quot;, 1:&quot;我是1&quot;, 2:&quot;我是2&quot;, length:3, //添加[Symbol.iterator]方法 [Symbol.iterator] : function() { let _this = this; let index = 0; return { next:() =&gt; { let value = _this[index]; let done = (index &gt;= _this.length); index++; return {value,done} } } } };</p><pre><code>//咱们来for...of一下
for(let v of obj){
    console.log(v);
}
//结果：&quot;我是0&quot;
//      &quot;我是1&quot;
//      &quot;我是2&quot;
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
### Iterator遍历器的价值 
- 新特性for...of之所以能够遍历各种不同的数据结构，正是因为这个数据结构都实现了Iterator遍历器接口，
- 供for...of遍历。如果没有实现Iterator接口，则该数据结构无法被for...of遍历，比如：普通的Object对象

## Generator函数
### 声明Generator函数
- Generator函数，又称生成器函数
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>//声明一个Hello的Generator函数 function* Hello(name) { yield <code>hello ${name}</code>; yield <code>how are you</code>; yield <code>bye</code>; }</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- 普通函数用function来声明，Generator函数用function*声明
- Generator函数内部有新的关键字：yield，普通函数没有

### 调用Generator函数

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>//声明一个Hello的Generator函数 function* Hello(name) { yield <code>hello ${name}</code>; yield <code>how are you</code>; yield <code>bye</code>; }</p><pre><code>//调用Hello函数
let ite = Hello(&#39;前端君&#39;);
//结果：[object Generator]

ite.next();
//{value: &quot;hello 前端君&quot;, done: false}

ite.next();
//{value: &quot;how are you&quot;, done: false}

ite.next();
//{value: &quot;bye&quot;, done: false}

ite.next();
//{value: undefined, done: true}
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- Generator函数被调用后得到的生成器理解成一个遍历器iterator，用于遍历函数内部的状态

### enerator函数的行为
- Generator函数被调用后并不会一直执行到最后，
- 它是先回返回一个生成器对象，然后hold住不动，等到生成器对象的next()方法被调用后，
- 函数才会继续执行，直到遇到关键字yield后，又会停止执行，并返回一个Object对象，
- 然后继续等待，直到next()再一次被调用的时候，才会继续接着往下执行，直到done的值为true。

### yield语句的作用
- 而yield在这里就相当于暂停执行并且返回信息
- 有点像传统函数的return的作用，但不同的是普通函数只能return一次，
- 但是Generator函数可以有很多个yield。而return代表的是终止执行，yield代表的是暂停执行，
- 后续通过调用生成器的next()方法，可以恢复执行。

### next()方法接收参数
- next()方法还可以接受一个参数，它的参数会作为上一个yield的返回值
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>//声明一个Hello的Generator函数
function* Hello() {
    let res = yield `hello`;
    yield res;
}

let iterator = Hello();
//结果：一个生成器对象

iterator.next();
//结果：{value: &quot;hello&quot;, done: false}

iterator.next(&quot;前端君&quot;);
//结果：{value: &quot;前端君&quot;, done: false}
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>- next()的参数会作为上一个yield的返回值

### 关键字yield*
- 在Generator函数里面，想调用另一个Generator函数，需要关键字：yield*。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>//声明Generator函数：gen1   
function* gen1() {
    yield &quot;gen1 start&quot;;
    yield &quot;gen1 end&quot;;
}

//声明Generator函数：gen2
function* gen2() {
    yield &quot;gen2 start&quot;;
    yield &quot;gen2 end&quot;;
}

//声明Generator函数：start
function* start() {
    yield &quot;start&quot;;
    yield* gen1();
    yield* gen2();
    yield &quot;end&quot;;
}

//调用start函数
const ite = start();
//创建一个生成器

ite.next();
//{value: &quot;start&quot;, done: false}

ite.next();
//{value: &quot;gen1 start&quot;, done: false}

ite.next();
//{value: &quot;gen1 end&quot;, done: false}

ite.next();
//{value: &quot;gen2 start&quot;, done: false}

ite.next();
//{value: &quot;gen2 end&quot;, done: false}

ite.next();
//{value: &quot;end&quot;, done: false}
</code></pre><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
- Generator函数A执行过程中，进入（调用）了另一个Generator函数B，
- 那么会一直等到Generator函数B全部执行完毕后，才会返回Generator函数A继续执行。

### Generator函数的用途
- Generator函数来实现异步操作的效果:
- 用Generator函数暂停执行的作用，可以将异步操作的语句写到yield后面，通过执行next方法进行回调。

## Set结构
- 理解为值的集合,它的值不会有重复项

### 基本用法
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>const s = new Set([1,2,3]); console.log(s); //打印结果：Set {1, 2, 3}</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
- 不想用数组作为参数来传值初始化变量s，可以通过Set 结构提供的add方法来添加方法

### 成员值唯一
- 为Set 结构添加成员值的时候，要注意set结构的成员值是没有重复的，每个值都是唯一的
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>const s = new Set(); s.add(1); s.add(1); console.log(s); //打印结果： Set {1} //很明显，set结构会自动忽略相同的值，只会保留一个相同的值。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>
### size属性
- size属性：获取成员的个数
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>let s = new Set([1,2,3,4]);
s.size; //结果：4
```
</code></pre><h3 id="delete-方法" tabindex="-1"><a class="header-anchor" href="#delete-方法" aria-hidden="true">#</a> delete()方法</h3><ul><li>delete()方法：用户删除Set结构中的<code>指定值</code>，删除成功返回：true，删除失败返回：fasle。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //用数组作为参数初始化
    const s = new Set([1,2,3]);
    console.log(s);
    //打印结果：Set {1, 2, 3}

    //使用delete方法删除指定值
    s.delete(2);//结果：true
    s.delete(4);//结果：false

    console.log(s);
    //打印结果：Set {1, 3}
	
	//我们使用delete()方法删除了指定值：2，结果返回true。
	//删除指定值：4的时候，返回false，原因是变量s中找不到数字4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="clear-方法" tabindex="-1"><a class="header-anchor" href="#clear-方法" aria-hidden="true">#</a> clear()方法</h3><ul><li>clear()方法：清空所有成员</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //用数组作为参数初始化
    const s = new Set([1,2,3]);
    console.log(s);
    //打印结果：Set {1, 2, 3}

    s.clear();
    console.log(s);
    //打印结果：Set {}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="has-方法-1" tabindex="-1"><a class="header-anchor" href="#has-方法-1" aria-hidden="true">#</a> has()方法</h3><ul><li>has()方法：判断set结构中是否含有指定的值。如果有，返回true；如果没有，返回fasle</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//用数组作为参数初始化
    const s = new Set([1,2,3]);
    s.has(1);//结果：true
    s.has(4);//结果：false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="entries-方法" tabindex="-1"><a class="header-anchor" href="#entries-方法" aria-hidden="true">#</a> entries()方法</h3><ul><li>entries()方法：返回一个键值对的遍历器。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //用数组作为参数初始化
    const s = new Set([&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]);
    s.entries();
    //结果：SetIterator {[&quot;a&quot;, &quot;a&quot;], [&quot;b&quot;, &quot;b&quot;], [&quot;c&quot;, &quot;c&quot;]}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="keys-和-values-方法" tabindex="-1"><a class="header-anchor" href="#keys-和-values-方法" aria-hidden="true">#</a> keys() 和 values() 方法</h3><ul><li>keys()方法：返回键名的遍历器。</li><li>values()方法：返回键值的遍历器。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //用数组作为参数初始化
    const s = new Set([&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]);

    s.keys();
    //结果：SetIterator {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}

    s.values();
    //结果：SetIterator {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>entries()方法的使用告诉我们，Set结构的键名和键值是同一个值，</li><li>那么我们就用Set结构提供的keys()和values()方法来检验一下,结果：两者确实一致。</li></ul><h3 id="for-of遍历set结构的讲解" tabindex="-1"><a class="header-anchor" href="#for-of遍历set结构的讲解" aria-hidden="true">#</a> for...of遍历Set结构的讲解</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //用数组作为参数初始化
    const s = new Set([&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]);

    //用for...of遍历
    for(let [i,v] of s.entries()){
        console.log(i+&#39; &#39;+v);
    }
    //打印结果：a  a    
    //         b  b   
    //         c  c   

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="foreach-方法" tabindex="-1"><a class="header-anchor" href="#foreach-方法" aria-hidden="true">#</a> forEach()方法</h3><ul><li>forEach()方法：遍历每一个成员。</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    //用数组作为参数初始化
    const s = new Set([&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]);

    //使用回调函数遍历每个成员
    s.forEach(function(value,key){
        console.log(value,key)
    });
    //打印结果：a  a
    //         b  b
    //         c  c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用方式跟数组的forEach一样，得到的value是key的值是一样的</li></ul><h3 id="set的用途之数组去重" tabindex="-1"><a class="header-anchor" href="#set的用途之数组去重" aria-hidden="true">#</a> Set的用途之数组去重</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code> //目标数组arr，要求去重
    let arr = [1,2,2,3,4,4,4];
    let s = new Set(arr);
    //结果：Set {1,2,3,4}

    let newArr = Array.from(s);
    //结果：[1,2,3,4],完成去重
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Set结构不会含有重复成员，就会自动忽略相同的元素，只保留一个相同的值</li></ul><h2 id="weakset结构" tabindex="-1"><a class="header-anchor" href="#weakset结构" aria-hidden="true">#</a> WeakSet结构</h2><ul><li>WeakSet结构同样不会存储重复的值，不同的是，它的成员必须是对象类型的值</li><li>（严格来说是：具有 iterable 接口的对象）</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//初始化一个WeakSet对象</span>
    <span class="token keyword">let</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：WeakSet {Object {age: 18}}</span>
	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>初始化一个WeakSet对象，参数一个数组，数组的成员必须是对象类型的值{&quot;age&quot;:18}，否则就会报错</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//初始化一个WeakSet对象</span>
    <span class="token keyword">let</span> ws <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakSet</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：报错</span>
    以上的写法就会报错，因为数组的元素不是对象类型的，是数字<span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span>。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>WeakSet结构也提供了add() 方法，delete() 方法，has()方法给开发者使用，作用与用法跟Set结构完全一致</li><li>另一个不同点是：WeakSet 结构不可遍历。因为它的成员都是对象的弱引用，随时被回收机制回收，成员消失</li><li>所以WeakSet 结构不会有keys()，values()，entries()，forEach()等方法和size属性</li></ul><h2 id="map" tabindex="-1"><a class="header-anchor" href="#map" aria-hidden="true">#</a> Map</h2><h3 id="map的基本用法" tabindex="-1"><a class="header-anchor" href="#map的基本用法" aria-hidden="true">#</a> Map的基本用法</h3><ul><li><p>Map结构提供了一个构造函数给我们，我们使用的时候需要用new来创建实例：<code>let m = new Map()</code></p></li><li><p>在创建实例的同时，初始化它的内容，我们可以给它传参，形式跟Set结构类型，都是需要用数组作为参数</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//打印结果：Map {&quot;name&quot; =&gt; &quot;前端君&quot;, &quot;gender&quot; =&gt; 1}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="set-方法" tabindex="-1"><a class="header-anchor" href="#set-方法" aria-hidden="true">#</a> set()方法</h3><ul><li>set()方法作用：给实例设置一对键值对，返回map实例</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//set方法添加</span>
    <span class="token comment">//添加一个string类型的键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">//添加一个数字类型的键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//打印结果：Map {&quot;name&quot; =&gt; &quot;前端君&quot;, 1 =&gt; 2}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>set方法的使用很简单，只需要给方法传入key和value作为键名和键值即可。</li><li>注意：第三行代码中，我们传入的key是数字1，这就证明了，Map结构确实可以存储非字符串类型的键名，</li><li>当然你还可以设置更多其它类型的键名，比如：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//数组类型的键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//对象类型的键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Zhangsan&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//布尔类型的键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Symbol类型的键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//null为键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//undefined为键名</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用set方法的时候有一点需要注意，如果你设置一个已经存在的键名，那么后面的键值会覆盖前面的键值</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：Map {&quot;name&quot; =&gt; &quot;前端君&quot;}</span>

    <span class="token comment">//再次设置name的值</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;隔壁老王&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：Map {&quot;name&quot; =&gt; &quot;隔壁老王&quot;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>我们第一次把name的值设置为“前端君”，当再次使用set方法设置name的值的时候，</li><li>后者成功覆盖了前者的值，从此“前端君” 变 “隔壁老王”。</li></ul><h3 id="get-方法" tabindex="-1"><a class="header-anchor" href="#get-方法" aria-hidden="true">#</a> get()方法</h3><ul><li>get()方法作用：获取指定键名的键值，返回键值。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：前端君</span>
    m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：undefined</span>
	<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
- get方法使用也很简单，只需要指定键名即可。获取存在对应的键值，如果键值对存在，就会返回键值；
- 否则，返回undefined，这个也很好理解。
 
### delete()方法
- delete()方法作用：删除指定的键值对，删除成功返回：true，否则返回：false。
</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//结果：Map {&quot;name&quot; =&gt; &quot;前端君&quot;}</span>

    m<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：true</span>
    m<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果：false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>我们使用delete方法，删除“name”的时候成功，返回了true。</li><li>删除“gender”的时候，由于Map结构中不存在键名：“gender”，所以删除失败，返回false。</li></ul><h3 id="clear-方法-1" tabindex="-1"><a class="header-anchor" href="#clear-方法-1" aria-hidden="true">#</a> clear()方法</h3><ul><li>跟Set结构一样，Map结构也提供了clear()方法，让你一次性删除所有键值对。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;gender&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    m<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//打印结果：Map {}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用clear方法后，我们再打印一下变量m，发现什么都没有，一个空的Map结构，说明clear方法起作用了。</li></ul><h3 id="has-方法-2" tabindex="-1"><a class="header-anchor" href="#has-方法-2" aria-hidden="true">#</a> has()方法</h3><ul><li>has()方法作用：判断Map实例内是否含有指定的键值对，有就返回：true，否则返回：false。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果:true</span>
    m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结果:false</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Map实例中含有键名：name，就返回了true，键名age不存在，就返回false</li></ul><h3 id="可遍历" tabindex="-1"><a class="header-anchor" href="#可遍历" aria-hidden="true">#</a> 可遍历</h3><ul><li>Object对象能被for...in遍历，Map结构也不示弱，同样可以被遍历</li><li>我们可以使用ES6的新特性for...of来遍历它的键名或者键值</li></ul><h3 id="entries-方法-1" tabindex="-1"><a class="header-anchor" href="#entries-方法-1" aria-hidden="true">#</a> entries()方法</h3><ul><li>entries()方法作用：返回实例的键值对遍历器。</li><li>我们在第十三节说过，for...of可以遍历具有遍历器接口的对象。</li><li>那么，我们就结合for...of来演示一下Map结构的遍历。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>value<span class="token punctuation">]</span> <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token operator">+</span><span class="token string">&#39;  &#39;</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//打印结果：name  前端君</span>
    <span class="token comment">//              age  25</span>
    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>案例中的 m.entries() 返回键值对的遍历器，使用了for...of来遍历这个遍历器，</li><li>得到的值分别赋值到key和value，然后控制台分别输出它们</li></ul><h3 id="keys-和-values-方法-1" tabindex="-1"><a class="header-anchor" href="#keys-和-values-方法-1" aria-hidden="true">#</a> keys() 和 values() 方法</h3><ul><li>keys()方法：返回实例所有键名的遍历器。</li><li>values() 方法：返回实例所有键值的遍历器。</li><li>既然都是遍历器，那就用for...of把它们遍历出来吧：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//使用keys方法获取键名</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//打印结果：name</span>
    <span class="token comment">//                 age</span>

    <span class="token comment">//使用values方法获取键值</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//打印结果：前端君</span>
    <span class="token comment">//                 25</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>keys方法和values方法的使用方式一致，只是返回的结果不同。</li></ul><h3 id="foreach-方法-1" tabindex="-1"><a class="header-anchor" href="#foreach-方法-1" aria-hidden="true">#</a> forEach()方法</h3><ul><li>除了使用以上三个方法实现遍历以外，我们还可以使用forEach遍历每一个键值对：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;前端君&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    m<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>key</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token operator">+</span><span class="token string">&#39;:&#39;</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//打印结果：name:前端君</span>
    <span class="token comment">//                 age:25</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>forEach方法接收一个匿名函数，给匿名函数传参value和key，分别是Map实例的键名和键值，</li></ul><h4 id="size属性" tabindex="-1"><a class="header-anchor" href="#size属性" aria-hidden="true">#</a> size属性</h4><ul><li>其中一个常用的属性就是size：获取实例的成员数。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    m<span class="token punctuation">.</span>size<span class="token punctuation">;</span><span class="token comment">//结果：2</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>使用set方法给实例m添加了两个键值对成员，所以实例的 size为：2。</li></ul><h2 id="weakmap结构。" tabindex="-1"><a class="header-anchor" href="#weakmap结构。" aria-hidden="true">#</a> WeakMap结构。</h2><ul><li>WeakMap结构和Map结构很类似，不同点在于WeakMap结构的键名只支持引用类型的数据。</li><li>哪些是引用类型的值呢？比如：数组，对象，函数。</li></ul><h3 id="weakmap的基本用法" tabindex="-1"><a class="header-anchor" href="#weakmap的基本用法" aria-hidden="true">#</a> WeakMap的基本用法</h3><ul><li>WeakMap结构的使用方式和Map结构一样：<code>let wm = new WeakMap();</code></li><li>两者都是使用new来创建实例。如果添加键值对的话，我们同样是使用set方法，</li><li>不过键名的类型必须要求是引用类型的值，我们来看看：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">let</span> wm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//数组类型的键名</span>
    wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//对象类型的键名</span>
    wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-property property">&#39;name&#39;</span><span class="token operator">:</span><span class="token string">&#39;Zhangsan&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//函数类型的键名</span>
    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    wm<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>wm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//打印：WeakMap {</span>
            <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> 
            Object <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Zhangsan&quot;</span><span class="token punctuation">}</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> 
            <span class="token parameter"><span class="token keyword">function</span></span> <span class="token operator">=&gt;</span> <span class="token number">2</span>
            <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>从打印结果可以看出，以上类型的键名都可以成功添加到WeakMap实例中。</li></ul><h3 id="weakmap和map的区别" tabindex="-1"><a class="header-anchor" href="#weakmap和map的区别" aria-hidden="true">#</a> WeakMap和Map的区别</h3><ul><li><p>键名如果是普通的值类型则不允许。比如：字符串，数字，null，undefined，布尔类型。</p></li><li><p>而Map结构是允许的，这就是两者的不同之处，谨记</p></li><li><p>跟Map一样，WeakMap也拥有get、has、delete方法，用法和用途都一样。</p></li><li><p>不同地方在于，WeakMap不支持clear方法，不支持遍历，也就没有了keys、values、entries、forEach这4个方法，也没有属性size。</p></li><li><p>理由跟WeakSet结构一样：键名中的引用类型是弱引用，你永远不知道这个引用对象什么时候会被垃圾回收机制回收了，</p></li><li><p>如果这个引用类型的值被垃圾机制回收了，WeakMap实例中的对应键值对也会消失。</p></li></ul><h2 id="promise-对象" tabindex="-1"><a class="header-anchor" href="#promise-对象" aria-hidden="true">#</a> Promise 对象</h2><h2 id="class-基本语法" tabindex="-1"><a class="header-anchor" href="#class-基本语法" aria-hidden="true">#</a> Class 基本语法</h2><h3 id="constructor" tabindex="-1"><a class="header-anchor" href="#constructor" aria-hidden="true">#</a> constructor</h3><ul><li>constructor方法是类的默认方法，通过new命令生成对象实例时，自动调用该方法</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token comment">// 没有显式定义，一个空的constructor方法会被默认添加。</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>constructor方法默认返回实例对象（即this），完全可以指定返回另外一个对象。</li><li>类必须使用new调用，否则会报错。这是它跟普通构造函数的一个主要区别，后者不用new也可以执行。</li></ul><h3 id="类的实例" tabindex="-1"><a class="header-anchor" href="#类的实例" aria-hidden="true">#</a> 类的实例</h3><ul><li>ES5 一样，实例的属性除非显式定义在其本身（即定义在this对象上），否则都是定义在原型上（即定义在class上）</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//定义类</span>
<span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;(&#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&#39;, &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">&#39;)&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

point<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// (2, 3)</span>

point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;x&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;y&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;toString&#39;</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
point<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&#39;toString&#39;</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Object.getPrototypeOf</code>方法来获取实例对象的原型，然后再来为原型添加方法/属性。</li><li>实例的__proto__属性改写原型,不推荐使用，会改变“类”的原始定义，影响到所有实例。</li></ul><h3 id="取值函数-getter-和存值函数-setter" tabindex="-1"><a class="header-anchor" href="#取值函数-getter-和存值函数-setter" aria-hidden="true">#</a> 取值函数（getter）和存值函数（setter）</h3><ul><li>ES5 一样，在“类”的内部可以使用get和set关键字，对某个属性设置存值函数和取值函数，拦截该属性的存取行为。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">prop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;getter&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">set</span> <span class="token function">prop</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;setter: &#39;</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> inst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

inst<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token comment">// setter: 123</span>

inst<span class="token punctuation">.</span>prop
<span class="token comment">// &#39;getter&#39;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="class表达式" tabindex="-1"><a class="header-anchor" href="#class表达式" aria-hidden="true">#</a> Class表达式</h3><ul><li><code>const MyClass = class { /* ... */ };</code></li><li>Class 表达式，可以写出立即执行的 Class</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">class</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;张三&quot;</span>

<span class="token comment">//person是一个立即执行的类的实例</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="注意点" tabindex="-1"><a class="header-anchor" href="#注意点" aria-hidden="true">#</a> 注意点</h4><ul><li>严格模式:类和模块的内部，默认就是严格模式</li><li>不存在提升</li><li>name属性总是返回紧跟在class关键字后面的类名</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Point<span class="token punctuation">.</span>name <span class="token comment">// &quot;Point&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>this 的指向:类的方法内部如果含有this，它默认指向类的实例</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//在构造方法中绑定this，这样就不会找不到print方法了。</span>
<span class="token keyword">class</span> <span class="token class-name">Logger</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>printName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//另一种解决方法是使用箭头函数。</span>
<span class="token keyword">class</span> <span class="token class-name">Obj</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getThis</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> myObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> myObj <span class="token comment">// true</span>
<span class="token comment">// 箭头函数内部的this总是指向定义时所在的对象。代码中，箭头函数位于构造函数内部，它的定义生效的时候，是在构造函数执行的时候。</span>
<span class="token comment">//这时，箭头函数所在的运行环境，肯定是实例对象，所以this会总是指向实例对象。</span>

<span class="token comment">//还有一种解决方法是使用Proxy，获取方法的时候，自动绑定this。</span>
<span class="token keyword">function</span> <span class="token function">selfish</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cache<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cache<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> cache<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> proxy<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token function">selfish</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="静态方法" tabindex="-1"><a class="header-anchor" href="#静态方法" aria-hidden="true">#</a> 静态方法</h3><ul><li>类相当于实例的原型，所有在类中定义的方法，都会被实例继承</li><li>如果在一个方法前，加上<code>static</code>关键字，就表示该方法不会被实例继承，而是通过类来调用</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">classMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Foo<span class="token punctuation">.</span><span class="token function">classMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &#39;hello&#39;</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span><span class="token function">classMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// TypeError: foo.classMethod is not a function</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>静态方法包含this关键字，这个this指的是类，而不是实例。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Foo<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="静态属性" tabindex="-1"><a class="header-anchor" href="#静态属性" aria-hidden="true">#</a> 静态属性</h3><ul><li>静态属性指的是 Class 本身属性，即Class.propName，不是定义在实例对象（this）上的属性</li><li>直接在类上定义</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

Foo<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
Foo<span class="token punctuation">.</span>prop <span class="token comment">// 1</span>
上面的写法为Foo类定义了一个静态属性prop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="new-target" tabindex="-1"><a class="header-anchor" href="#new-target" aria-hidden="true">#</a> new target</h3><ul><li>new是从构造函数生成实例对象的命令。ES6 为new命令引入了一个<code>new.target</code>属性，该属性一般用在构造函数之中，返回new命令作用于的那个构造函数。</li><li>如果构造函数不是通过new命令或Reflect.construct()调用的，new.target会返回undefined，因此这个属性可以用来确定构造函数是怎么调用</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;必须使用 new 命令生成实例&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 另一种写法</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;必须使用 new 命令生成实例&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正确</span>
<span class="token keyword">var</span> notAPerson <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 报错</span>
<span class="token comment">//上面代码确保构造函数只能通过new命令调用。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Class 内部调用new.target，返回当前 Class。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Rectangle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> length<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>需要注意的是，子类继承父类时，new.target会返回子类。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Rectangle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Rectangle</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> width<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Square</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 false</span>
<span class="token comment">//上面代码中，new.target会返回子类。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>利用这点，可以写出不能独立使用、必须继承后才能使用的类。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;本类不能实例化&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 报错</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 正确</span>
<span class="token comment">//上面代码中，Shape类不能被实例化，只能用于继承。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注意，在函数外部，使用new.target会报错</li></ul><h2 id="class-的继承" tabindex="-1"><a class="header-anchor" href="#class-的继承" aria-hidden="true">#</a> class 的继承</h2><ul><li>Class 可以通过extends关键字实现继承</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">{</span>
	
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Ponint</span> <span class="token punctuation">{</span>
	
<span class="token punctuation">}</span>

定义了一个ColorPoint类，该类通过<span class="token keyword">extends</span>关键字，继承了Point类的所有属性和方法
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的constructor(x, y)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">&#39; &#39;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的toString()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 代码中，constructor方法和toString方法之中，都出现了super关键字，在这里表示父类的构造函数，用来新建父类的this对象</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>S6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到this上面（必须调用super方法），然后再用子类的构造函数修改this。</li><li>调用super之后，才可以使用this关键字，否则会报错。这是因为子类实例的构建，基于父类实例，只有super方法才能调用父类实例。</li><li>父类的静态方法，也会被子类继承</li></ul><h3 id="object-getprototypeof-1" tabindex="-1"><a class="header-anchor" href="#object-getprototypeof-1" aria-hidden="true">#</a> Object.getPrototypeOf()</h3><ul><li><code>Object.getPrototypeOf</code>方法可以用来从子类上获取父类。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>ColorPoint<span class="token punctuation">)</span> <span class="token operator">===</span> Point
<span class="token comment">// true</span>
<span class="token comment">// 使用这个方法判断，一个类是否继承了另一个类。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="super-关键字" tabindex="-1"><a class="header-anchor" href="#super-关键字" aria-hidden="true">#</a> super 关键字</h3><ul><li>super这个关键字，既可以当作函数使用，也可以当作对象使用。在这两种情况下，它的用法完全不同。</li></ul><h4 id="super作为函数调用时" tabindex="-1"><a class="header-anchor" href="#super作为函数调用时" aria-hidden="true">#</a> super作为函数调用时</h4><ul><li>代表父类的构造函数。ES6 要求，子类的构造函数必须执行一次super函数。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// B的构造函数之中的super()，代表调用父类的构造函数。否则 JavaScript 引擎会报错</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>作为函数时，super()只能用在子类的构造函数之中</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token function">m</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//super()用在B类的m方法之中，就会造成语法错误。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="super作为对象时" tabindex="-1"><a class="header-anchor" href="#super作为对象时" aria-hidden="true">#</a> super作为对象时，</h4><ul><li>在普通方法中，指向父类的原型对象；在静态方法中，指向父类。</li><li>super指向父类的原型对象，所以定义在父类实例上的方法或属性，是无法通过super调用的。</li><li>属性定义在父类的原型对象上，super就可以取到。</li></ul><h3 id="类的-prototype-属性和-proto-属性" tabindex="-1"><a class="header-anchor" href="#类的-prototype-属性和-proto-属性" aria-hidden="true">#</a> 类的 prototype 属性和__proto__属性</h3><ul><li>浏览器的 ES5 实现之中，每一个对象都有__proto__属性，指向对应的构造函数的prototype属性。Class 作为构造函数的语法糖，同时有prototype属性和__proto__属性，因此同时存在两条继承链。</li></ul><h4 id="子类的-proto-属性" tabindex="-1"><a class="header-anchor" href="#子类的-proto-属性" aria-hidden="true">#</a> 子类的__proto__属性</h4><ul><li>表示构造函数的继承，总是指向父类。</li></ul><h4 id="子类prototype属性的-proto-属性" tabindex="-1"><a class="header-anchor" href="#子类prototype属性的-proto-属性" aria-hidden="true">#</a> 子类prototype属性的__proto__属性</h4><ul><li>表示方法的继承，总是指向父类的prototype属性。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token constant">B</span><span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token constant">A</span> <span class="token comment">// true</span>
<span class="token class-name">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">A</span><span class="token punctuation">.</span>prototype <span class="token comment">// true</span>
<span class="token comment">// 子类B的__proto__属性指向父类A，子类B的prototype属性的__proto__属性指向父类A的prototype属性</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实例的-proto-属性" tabindex="-1"><a class="header-anchor" href="#实例的-proto-属性" aria-hidden="true">#</a> 实例的 <strong>proto</strong> 属性</h3><ul><li>子类实例的__proto__属性的__proto__属性，指向父类实例的__proto__属性。所以子类的原型的原型，是父类的原型。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;red&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p2<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> p1<span class="token punctuation">.</span>__proto__ <span class="token comment">// false</span>
p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> p1<span class="token punctuation">.</span>__proto__ <span class="token comment">// true</span>
<span class="token comment">// ColorPoint继承了Point，导致前者原型的原型是后者的原型。</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>通过子类实例的__proto__.__proto__属性，可以修改父类实例的行为。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function-variable function">printName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Ha&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

p1<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Ha&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>代码在ColorPoint的实例p2上向Point类添加方法，结果影响到了Point的实例p1</p><h3 id="mixin-模式的实现" tabindex="-1"><a class="header-anchor" href="#mixin-模式的实现" aria-hidden="true">#</a> Mixin 模式的实现</h3><ul><li>Mixin 指的是多个对象合成一个新的对象，新对象具有各个组成成员的接口</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">&#39;a&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&#39;b&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>a<span class="token punctuation">,</span> <span class="token operator">...</span>b<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// {a: &#39;a&#39;, b: &#39;b&#39;}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="module-语法" tabindex="-1"><a class="header-anchor" href="#module-语法" aria-hidden="true">#</a> Module 语法</h2><h3 id="导出" tabindex="-1"><a class="header-anchor" href="#导出" aria-hidden="true">#</a> 导出</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">lest</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
	<span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 第二种导出</span>
<span class="token keyword">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">test</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Hello</span> <span class="token punctuation">{</span>
	<span class="token function">test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;class&#39;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token constant">A</span><span class="token punctuation">,</span>test<span class="token punctuation">,</span>Hello<span class="token punctuation">}</span>

<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>n <span class="token keyword">as</span> m<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="导入" tabindex="-1"><a class="header-anchor" href="#导入" aria-hidden="true">#</a> 导入</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">A</span><span class="token punctuation">,</span>test<span class="token punctuation">,</span>Hello<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./class/demo17&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span>test<span class="token punctuation">,</span>Hello<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// 整体加载</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> lesson <span class="token keyword">from</span> <span class="token string">&#39;./class/demo17&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lesson<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">,</span>lesson<span class="token punctuation">.</span>test<span class="token punctuation">)</span>

<span class="token keyword">import</span> Demo17 <span class="token keyword">from</span> <span class="token string">&#39;./class/demo17&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Demo17<span class="token punctuation">.</span><span class="token constant">A</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="export-default" tabindex="-1"><a class="header-anchor" href="#export-default" aria-hidden="true">#</a> export default</h3><ul><li><code>export default</code>命令用于指定模块的默认输出。</li><li>一个模块只能有一个默认输出，因此<code>export default</code>命令只能使用一次。</li><li>所以，import命令后面才不用加大括号，因为只可能唯一对应export default命令</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;foo&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">import</span> customName <span class="token keyword">from</span> <span class="token string">&#39;./mmm&#39;</span>		<span class="token comment">//不用加{}</span>
<span class="token function">customName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//foo</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>因为<code>export default</code>命令其实只是输出一个叫做default的变量，所以它后面不能跟变量声明语句</p></li><li><p>想在一条import语句中，同时输入默认方法和其他接口，可以写成下面这样。 <code>import _, { each, forEach } from &#39;lodash&#39;</code></p></li><li><p>对应上面代码的export语句如下。</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ···</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">each</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> iterator<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ···</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> each <span class="token keyword">as</span> forEach <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="export-default输出类" tabindex="-1"><a class="header-anchor" href="#export-default输出类" aria-hidden="true">#</a> export default输出类</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// MyClass.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> MyClass <span class="token keyword">from</span> <span class="token string">&#39;MyClass&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es6-用-es6-编写简洁的函数声明" tabindex="-1"><a class="header-anchor" href="#es6-用-es6-编写简洁的函数声明" aria-hidden="true">#</a> ES6：用 ES6 编写简洁的函数声明</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>在 <span class="token constant">ES5</span> 中，当我们需要在对象中定义一个函数的时候，我们必须如下面这般使用<span class="token keyword">function</span>关键字：

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Taylor&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello! My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
在 <span class="token constant">ES6</span> 语法的对象中定义函数的时候，你可以完全删除<span class="token keyword">function</span>关键字和冒号。请看以下例子：

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Taylor&quot;</span><span class="token punctuation">,</span>
  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello! My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="es6-使用-class-语法定义构造函数" tabindex="-1"><a class="header-anchor" href="#es6-使用-class-语法定义构造函数" aria-hidden="true">#</a> ES6：使用 class 语法定义构造函数</h2><div class="language-stylus ext-styl line-numbers-mode"><pre class="language-stylus"><code>在 ES5 里面，我们通常会定义一个构造函数，然后使用 new 关键字来实例化一个对象：

const SpaceShuttle = <span class="token func"><span class="token function">function</span><span class="token punctuation">(</span>targetPlanet<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
  this<span class="token punctuation">.</span>targetPlanet = targetPlanet<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token property-declaration"><span class="token property">const</span> zeus <span class="token operator">=</span> new SpaceShuttle<span class="token punctuation">(</span><span class="token string">&#39;Jupiter&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
class的语法只是简单地替换了构造函数的写法：

<span class="token selector">class SpaceShuttle <span class="token punctuation">{</span></span>
  <span class="token func"><span class="token function">constructor</span><span class="token punctuation">(</span>targetPlanet<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
    this<span class="token punctuation">.</span>targetPlanet = targetPlanet<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token property-declaration"><span class="token property">const</span> zeus <span class="token operator">=</span> new SpaceShuttle<span class="token punctuation">(</span><span class="token string">&#39;Jupiter&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
注意class关键字声明了一个新的函数，并在其中添加了一个会在使用new关键字创建新对象时调用的构造函数。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="getters和setters" tabindex="-1"><a class="header-anchor" href="#getters和setters" aria-hidden="true">#</a> getters和setters</h2><ul><li>你可以从对象中获得一个值，也可以给对象的属性赋值: getters 以及 setters</li><li>Getter 函数的作用是可以让返回一个对象私有变量的值给用户，而不需要直接去访问私有变量。</li><li>Setter 函数的作用是可以基于传进的参数来修改对象中私有变量的值。这些修改可以是计算，或者是直接替换之前的值。</li></ul><h2 id="了解-import-和-require-之间的差异" tabindex="-1"><a class="header-anchor" href="#了解-import-和-require-之间的差异" aria-hidden="true">#</a> 了解 import 和 require 之间的差异</h2><ul><li>在过去，我们会使用require()函数来从外部文件或模块中引入函数或者代码。这时候会遇到一个问题：有些文件或者模块会特别大，但你却往往只需要引入其中的一些核心代码。</li><li>ES6给我们提供了import这个便利的工具。通过它，我们能够从外部的文件或者模块中选择我们需要的部分进行引入，从而节约载入的时间和内存空间。</li><li>我们还可以用import语法从文件中导入所有的内容。</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>下面是一个从同目录下的<span class="token string">&quot;math_functions&quot;</span>文件中导入所有内容的例子：

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> myMathModule <span class="token keyword">from</span> <span class="token string">&quot;math_functions&quot;</span><span class="token punctuation">;</span>
myMathModule<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myMathModule<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
让我们来分析一下这段代码：

<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> object_with_name_of_your_choice <span class="token keyword">from</span> <span class="token string">&quot;file_path_goes_here&quot;</span>
object_with_name_of_your_choice<span class="token punctuation">.</span>imported_function
你可以在<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span>之后添加任意的名称。这个方法接收到的值是一个对象，你可以使用点表示法来获取对象里具体的值
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-stylus ext-styl line-numbers-mode"><pre class="language-stylus"><code><span class="token selector">import <span class="token punctuation">{</span></span> <span class="token property-declaration"><span class="token property">countItems</span> <span class="token punctuation">}</span> from <span class="token string">&quot;math_array_functions&quot;</span></span>
下面是对于上面代码的语义描述：

<span class="token selector">import <span class="token punctuation">{</span></span> <span class="token property-declaration"><span class="token property">function</span> <span class="token punctuation">}</span> from <span class="token string">&quot;file_path_goes_here&quot;</span></span>
<span class="token comment">// 我们还可以用同样的方式来引入变量！</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用-export-来重用代码块" tabindex="-1"><a class="header-anchor" href="#用-export-来重用代码块" aria-hidden="true">#</a> 用 export 来重用代码块</h2><ul><li>当我们想要一些代码——函数或者变量——在其他文件中使用，我们必须将它们导出来供其他文件导入。和import一样，export也是一个非浏览器的功能。</li></ul><h2 id="object-freeze-冻结" tabindex="-1"><a class="header-anchor" href="#object-freeze-冻结" aria-hidden="true">#</a> Object.freeze 冻结</h2><ul><li>JavaScript 提供了一个函数Object.freeze来防止数据改变。</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xanadu.zxl@gamil.com">xanadu-zxl</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: zxlcoder@gmail.com">郑薛林</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.38db9df0.js" defer></script>
  </body>
</html>
